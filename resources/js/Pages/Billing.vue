<script setup>
import AuthenticatedLayout from "@/Layouts/AuthenticatedLayout.vue";
import { Link } from "@inertiajs/vue3";
import Swal from "sweetalert2";
</script>
<template>
    <AuthenticatedLayout>
        <div class="py-2">
            <div class="max-w-7xl mx-auto font-sans">
                <div class="py-4">
                    <div class="flex items-center justify-center">
                        <form
                            class="flex flex-row w-full h-auto items-center justify-center"
                            @submit.prevent="paymentService"
                            enctype="multipart/form-data"
                        >
                            <div
                                class="flex flex-row w-full h-auto items-center justify-center bg-white border-2 rounded-md"
                            >
                                <div class="flex-row w-1/2 p-1">
                                    <div
                                        class="flex w-full mt-10 p-4 border-2 border-white rounded-md bg-slate-100 text-slate-600 items-center justify-center"
                                    >
                                        ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏ä‡πâ‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏Ñ‡πà‡∏≤‡∏ò‡∏£‡∏£‡∏°‡πÄ‡∏ô‡∏µ‡∏¢‡∏°‡∏Ç‡∏≠‡∏á‡πÄ‡∏ß‡πá‡∏ö‡πÑ‡∏ã‡∏ï‡πå
                                        ‡πÄ‡∏ä‡πà‡∏ô ‡∏Å‡∏≤‡∏£‡πÇ‡∏õ‡∏£‡πÇ‡∏°‡∏ó‡πÇ‡∏õ‡∏£‡πÑ‡∏ü‡∏•‡πå
                                        ‡πÅ‡∏•‡∏∞‡∏î‡∏π‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Å‡∏≤‡∏£‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤
                                        ‡∏Ñ‡∏∏‡∏ì‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ‡∏¢‡∏≠‡∏î‡πÄ‡∏á‡∏¥‡∏ô‡πÉ‡∏ô‡∏ö‡∏±‡∏ç‡∏ä‡∏µ‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì
                                    </div>
                                    <div
                                        class="flex w-full mt-4 text-sm ml-1 text-slate-600 items-center justify-center"
                                    >
                                        ‡πÇ‡∏õ‡∏£‡∏î‡∏Å‡∏£‡∏≠‡∏Å‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏ï‡∏¥‡∏°
                                        ‡πÉ‡∏ô‡∏ä‡πà‡∏≠‡∏á‡∏î‡πâ‡∏≤‡∏ô‡∏•‡πà‡∏≤‡∏á
                                        ‡∏´‡∏•‡∏±‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏ï‡∏¥‡∏°‡πÄ‡∏á‡∏¥‡∏ô‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢‡πÅ‡∏•‡πâ‡∏ß‡∏Ñ‡∏∏‡∏ì‡∏à‡∏∞‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÉ‡∏ä‡πâ‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏Ñ‡πà‡∏≤‡∏ò‡∏£‡∏£‡∏°‡πÄ‡∏ô‡∏µ‡∏¢‡∏°‡πÑ‡∏î‡πâ‡∏ó‡∏±‡∏ô‡∏ó‡∏µ
                                    </div>
                                    <div
                                        class="flex w-full mt-4 text-sm ml-1 text-slate-600 items-center justify-center"
                                    >
                                        ‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏ò‡∏∏‡∏£‡∏Å‡∏£‡∏£‡∏°‡∏ô‡∏µ‡πâ‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£‡πÇ‡∏î‡∏¢‡∏ö‡∏£‡∏¥‡∏©‡∏±‡∏ó
                                        ACTSE ‡πÄ‡∏ß‡πá‡∏ö‡πÑ‡∏ã‡∏ï‡πå BearSkill
                                    </div>
                                    <div
                                        class="flex-row w-full p-4 items-center justify-center"
                                    >
                                        <div
                                            class="flex p-2 items-center justify-center"
                                        >
                                            ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô<input
                                                type="number"
                                                class="ml-4 rounded-md border-slate-400"
                                                v-model="amount_price"
                                            />
                                        </div>
                                        <div
                                            class="flex w-full py-3 text-gray-500 items-center justify-center"
                                        >
                                            ‡∏Å‡∏£‡∏≠‡∏Å‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡πÑ‡∏°‡πà‡πÄ‡∏Å‡∏¥‡∏ô 6 ‡∏ï‡∏±‡∏ß
                                            ‡πÑ‡∏°‡πà‡∏≠‡∏ô‡∏∏‡∏ç‡∏≤‡∏ï‡πÉ‡∏´‡πâ‡πÉ‡∏ä‡πâ emojis
                                        </div>
                                        <div
                                            class="flex w-full py-3 ml-2 text-gray-700 text-center"
                                        >
                                            <label>‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á</label>
                                        </div>
                                        <div
                                            class="flex-row w-full h-auto p-3 border-2 rounded-md bg-gray-100 text-gray-600 text-center"
                                        >
                                            <div
                                                class="flex items-center ml-2 mb-2"
                                            >
                                                <span class="text-danger"
                                                    >&#10060;</span
                                                >
                                                <span class="ml-2"
                                                    >üòÖüòÖ 6000 üòÖüòÖ
                                                </span>
                                            </div>
                                            <div
                                                class="flex items-center ml-2 mb-2"
                                            >
                                                <span class="text-success"
                                                    >&#10004;</span
                                                >
                                                <span class="ml-2">6000</span>
                                            </div>
                                        </div>
                                        <div
                                            class="flex w-full py-3 my-5 mb-5 items-center justify-center"
                                        >
                                            <button
                                                type="submit"
                                                class="bg-[#172a4f] hover:bg-blue-600 text-white text-lg py-2 px-4 rounded focus:outline-none focus:shadow-outline"
                                            >
                                                ‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£‡∏ï‡πà‡∏≠ >
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </AuthenticatedLayout>
</template>
<script>
export default {
    data() {
        return {
            amount_price: 0,
        };
    },
    methods: {
        paymentService() {
            const userId = this.$page.props.auth.user.id;
            const formData = new FormData();

            formData.append("id", userId);
            formData.append("coin", this.amount_price);

            console.log(userId);
            console.log(this.amount_price);

            const Toast = Swal.mixin({
                toast: true,
                position: "center",
                showConfirmButton: false,
                timer: 3500,
                timerProgressBar: true,
                didOpen: (toast) => {
                    toast.addEventListener("mouseenter", Swal.stopTimer);
                    toast.addEventListener("mouseleave", Swal.resumeTimer);
                },
            });

            Toast.fire({
                icon: "warning",
                title: `‡∏£‡∏∞‡∏ö‡∏ö‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏õ‡∏£‡∏∞‡∏°‡∏ß‡∏•‡∏ú‡∏•‡πÇ‡∏õ‡∏£‡∏î‡∏£‡∏≠‡∏™‡∏µ‡∏Å‡∏Ñ‡∏£‡∏π‡πà !!`,
            });

            setTimeout(function () {

                axios
                    .post("/addcredit", formData)
                    .then((response) => {
                        console.log(response.data);

                        if (response.data != 'Data insertion failed') {
                            Toast.fire({
                                icon: "success",
                                title: `‡∏ó‡πà‡∏≤‡∏ô‡∏ó‡∏≥‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏£‡∏≠‡∏™‡∏±‡∏Å‡∏Ñ‡∏£‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏ä‡∏≥‡∏£‡∏∞‡∏Ç‡∏≠‡∏á‡∏ó‡πà‡∏≤‡∏ô!`,
                            });
                            setTimeout(function () {
                                window.location.reload();
                            }, 4000);
                        } else {
                            Toast.fire({
                                icon: "error",
                                title: `‡∏ó‡πà‡∏≤‡∏ô‡∏ó‡∏≥‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÑ‡∏°‡πà‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏ä‡∏≥‡∏£‡∏∞‡∏Ç‡∏≠‡∏á‡∏ó‡πà‡∏≤‡∏ô!`,
                            });
                            setTimeout(function () {
                                window.location.reload();
                            }, 4000);
                        }
                    })
                    .catch((error) => {
                        console.error(error.response.data);
                    });
            }, 4500);
        },
    },
    mounted() {},
};
</script>
<style scoped></style>
